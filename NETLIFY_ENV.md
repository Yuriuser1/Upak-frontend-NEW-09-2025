# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è Netlify

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Å–∞–π—Ç–∞ –≤ Netlify, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–æ–±–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö —Å–∞–π—Ç–∞:

## –ü—É—Ç—å: Site settings ‚Üí Environment variables

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```bash
# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ)
DATABASE_URL="postgresql://username:password@host:port/database_name"

# NextAuth –Ω–∞—Å—Ç—Ä–æ–π–∫–∏  
NEXTAUTH_URL="https://www.upak.space"
NEXTAUTH_SECRET="your-production-secret-key-here"

# API –±—ç–∫–µ–Ω–¥–∞ UPAK
NEXT_PUBLIC_API_URL="https://upak.tech:8001"

# –û–∫—Ä—É–∂–µ–Ω–∏–µ
NODE_ENV="production"
```

### –ö–∞–∫ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Netlify:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à —Å–∞–π—Ç –≤ –ø–∞–Ω–µ–ª–∏ Netlify
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Site settings** (–Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–∞–π—Ç–∞)  
3. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **Environment variables** (–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è)
4. –ù–∞–∂–º–∏—Ç–µ **Add variable** –¥–ª—è –∫–∞–∂–¥–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π
5. –í–≤–µ–¥–∏—Ç–µ **Key** (–∏–º—è) –∏ **Value** (–∑–Ω–∞—á–µ–Ω–∏–µ)
6. –°–æ—Ö—Ä–∞–Ω–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
7. –°–¥–µ–ª–∞–π—Ç–µ **Redeploy** —Å–∞–π—Ç–∞

### ‚ö†Ô∏è –í–∞–∂–Ω–æ:
- –ó–∞–º–µ–Ω–∏—Ç–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
- NEXTAUTH_SECRET –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (–º–æ–∂–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ openssl.org)
- DATABASE_URL –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –≤–∞—à—É —Ä–µ–∞–ª—å–Ω—É—é PostgreSQL –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

### üîß –í–µ—Ä—Å–∏—è Node.js:
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Node.js v20 (—É–∫–∞–∑–∞–Ω–æ –≤ .nvmrc). Netlify –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç—É –≤–µ—Ä—Å–∏—é –¥–ª—è —Å–±–æ—Ä–∫–∏.

### üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Prisma ORM —Å PostgreSQL. –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Å–±–æ—Ä–∫–∏:

**–î–ª—è —Å—Ç–∞—Ç–∏—á–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü (–±–µ–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö):**
- –°–±–æ—Ä–∫–∞ –ø—Ä–æ–π–¥–µ—Ç —É—Å–ø–µ—à–Ω–æ –¥–∞–∂–µ –±–µ–∑ DATABASE_URL
- Prisma –∫–ª–∏–µ–Ω—Ç –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- API —Ä–æ—É—Ç—ã —Ç—Ä–µ–±—É—é—â–∏–µ –ë–î –Ω–µ –±—É–¥—É—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

**–î–ª—è –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö:**
1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–Ω–∞ –∏–∑ –ò–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
2. DATABASE_URL –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
3. –í—Å–µ —Ç–∞–±–ª–∏—Ü—ã —Å–æ–∑–¥–∞–Ω—ã (`npx prisma db push`)

### üîß –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Å–±–æ—Ä–∫–∞ –¥–ª—è Netlify:
–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ–¥—Ö–æ–¥–æ–≤ –¥–ª—è —Å–±–æ—Ä–∫–∏:

**1. `build-netlify-production.js` (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π):**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç @netlify/plugin-nextjs –¥–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ SSR
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –¥–ª—è Netlify
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ API –º–∞—Ä—à—Ä—É—Ç—ã
- –ú–æ–∫–∞–µ—Ç Prisma –µ—Å–ª–∏ –Ω–µ—Ç DATABASE_URL

**2. `build-static.js` (—Ä–µ–∑–µ—Ä–≤–Ω—ã–π):**
- –°–æ–∑–¥–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π export
- –ò—Å–∫–ª—é—á–∞–µ—Ç –≤—Å–µ API routes
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –¥–µ–º–æ-—Å–∞–π—Ç–æ–≤ –±–µ–∑ backend

**3. –ö–ª—é—á–µ–≤—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ø–µ—Ä–µ–≤–µ–¥–µ–Ω—ã –Ω–∞ client-side
- ‚úÖ –£–±—Ä–∞–Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ª–æ–≥–∏–∫–∞ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤—Ä–µ–º–µ–Ω–∏ —Å–±–æ—Ä–∫–∏
- ‚úÖ API routes —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–æ–ª—å–∫–æ –≤ runtime, –Ω–µ –≤ build time